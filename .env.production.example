# Production Environment Configuration
# This file contains optimized configuration for production deployment
# Copy this file to .env.production and update all CHANGE_THIS values

APP_NAME="Controle Financeiro"
APP_ENV=production
APP_KEY=base64:CHANGE_THIS_IN_PRODUCTION_GENERATE_NEW_KEY
APP_DEBUG=false
APP_TIMEZONE=America/Sao_Paulo
APP_URL=https://your-domain.com

APP_LOCALE=pt_BR
APP_FALLBACK_LOCALE=pt_BR
APP_FAKER_LOCALE=pt_BR

APP_MAINTENANCE_DRIVER=file
APP_MAINTENANCE_STORE=database

PHP_CLI_SERVER_WORKERS=4
BCRYPT_ROUNDS=12

# Logging Configuration - Minimal for production
LOG_CHANNEL=stack
LOG_STACK=daily
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=error

# Database Configuration - Optimized MySQL for production
DB_CONNECTION=mysql
DB_HOST=mysql
DB_PORT=3306
DB_DATABASE=controle_financeiro
DB_USERNAME=laravel_user
DB_PASSWORD=CHANGE_THIS_STRONG_DB_PASSWORD
DB_ROOT_PASSWORD=CHANGE_THIS_STRONG_ROOT_PASSWORD

# Database SSL Configuration
DB_SSL_MODE=REQUIRED
DB_SSL_VERIFY_SERVER_CERT=true
DB_SSL_CA=/path/to/ca-cert.pem

# Connection Pool Settings
DB_POOL_MIN=5
DB_POOL_MAX=20

# Cache Configuration - Redis with clustering
CACHE_STORE=redis
CACHE_PREFIX=cf_prod_
CACHE_TTL=3600

# Session Configuration - Redis with security
SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_ENCRYPT=true
SESSION_PATH=/
SESSION_DOMAIN=your-domain.com
SESSION_SAME_SITE=strict

# Broadcasting & Filesystem
BROADCAST_CONNECTION=redis
FILESYSTEM_DISK=s3

# Queue Configuration - Redis with multiple queues
QUEUE_CONNECTION=redis
QUEUE_FAILED_DRIVER=database

# Redis Configuration - Production cluster
REDIS_CLIENT=phpredis
REDIS_HOST=redis
REDIS_PASSWORD=CHANGE_THIS_STRONG_REDIS_PASSWORD
REDIS_PORT=6379
REDIS_DB=0

# Redis Cluster Configuration (if using cluster)
REDIS_CLUSTER_ENABLED=false
REDIS_CLUSTER_NODES=redis-1:6379,redis-2:6379,redis-3:6379

# Mail Configuration - Production SMTP
MAIL_MAILER=smtp
MAIL_HOST=smtp.your-provider.com
MAIL_PORT=587
MAIL_USERNAME=your-email@your-domain.com
MAIL_PASSWORD=CHANGE_THIS_EMAIL_PASSWORD
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS="noreply@your-domain.com"
MAIL_FROM_NAME="${APP_NAME}"

# Security Settings
SANCTUM_STATEFUL_DOMAINS=your-domain.com
SESSION_SECURE_COOKIE=true
SECURE_HEADERS=true

# SSL/HTTPS Configuration
FORCE_HTTPS=true
HSTS_ENABLED=true
ASSET_URL=https://your-domain.com

# AWS Configuration (if using S3)
AWS_ACCESS_KEY_ID=CHANGE_THIS_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=CHANGE_THIS_AWS_SECRET_KEY
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=your-production-bucket
AWS_USE_PATH_STYLE_ENDPOINT=false

# CDN Configuration
CDN_URL=https://cdn.your-domain.com

# Vite Configuration
VITE_APP_NAME="${APP_NAME}"

# Production-specific settings
TELESCOPE_ENABLED=false
DEBUGBAR_ENABLED=false

# Performance Settings
OPCACHE_ENABLED=true
RESPONSE_CACHE_ENABLED=true
QUERY_CACHE_ENABLED=true

# Monitoring and Logging
SENTRY_LARAVEL_DSN=CHANGE_THIS_SENTRY_DSN
LOG_SLACK_WEBHOOK_URL=CHANGE_THIS_SLACK_WEBHOOK

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
API_RATE_LIMIT_PER_MINUTE=1000

# Database Backup
DB_BACKUP_ENABLED=true
DB_BACKUP_SCHEDULE="0 2 * * *"
DB_BACKUP_RETENTION_DAYS=30

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_SECRET=CHANGE_THIS_HEALTH_CHECK_SECRET

# Load Balancer Configuration
LOAD_BALANCER_ENABLED=true
TRUSTED_PROXIES=*

# Production Environment Notes:
# - All debug features disabled for security and performance
# - Redis used for cache, sessions, and queues
# - SSL/HTTPS enforced
# - Database connections optimized with pooling
# - Comprehensive backup strategy
# - Monitoring and error reporting configured
# - Rate limiting enabled for security
# - CDN integration ready
# - Load balancer support configured